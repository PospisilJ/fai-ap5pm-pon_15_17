{"version":3,"file":"src_app_meal_meal_module_ts.js","mappings":"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","sources":["./src/app/meal/meal.module.ts","./src/app/meal/meal.page.ts","./src/app/meal/meal.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MealPage } from './meal.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MealPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MealPage]\n})\nexport class MealPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { MealdbApiService } from '../services/mealdb-api.service';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { MEALDB_Meal } from '../services/model';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { StorageService } from '../services/storage/storage.service';\n\n\n@Component({\n    selector: 'app-meal',\n    templateUrl: './meal.page.html',\n    styleUrls: ['./meal.page.scss']\n    \n})\nexport class MealPage implements OnInit {\n    id: string;\n    // ulozenaJidlaPole: Array<Array<any>> = [];\n    // oblibenaJidlaPole: Array<Array<any>> = [];  //____________________________________________\n\n    ulozenaJidlaPole: Array<string> = [];\n    oblibenaJidlaPole: Array<string> = [];  //____________________________________________\n\n    meal$: Observable<any>;\n    ingredients;\n    instructions;\n    constructor(\n        private localStorage : StorageService,\n        private activatedRoute: ActivatedRoute,\n        private mealdb: MealdbApiService,\n        private sanitizer: DomSanitizer\n    ) {\n        this.id = this.activatedRoute.snapshot.paramMap.get('id');\n        this.meal$ = this.mealdb.getMealById(this.id).pipe(\n            tap(meal => {\n                console.log(meal);\n                this.ingredients = this.getIngredientsArray(meal);\n                this.instructions = this.convertInstructionToArray(meal);\n            })\n        );\n    }\n\n    ngOnInit() {}\n\n    getYoutubeLink(meal: MEALDB_Meal) {\n        // \"https://www.youtube.com/watch?v=NZVo32n7iS8\"\n        const id = meal.strYoutube.split('=')[1];\n        return this.sanitizer.bypassSecurityTrustResourceUrl(\n            `https://www.youtube.com/embed/${id}?autoplay=1&origin=http://example.com`\n        );\n    }\n\n    getIngredientsArray(meal: MEALDB_Meal) {\n        const results = [];\n        for (let i = 1; i <= 20; i++) {\n            results.push([meal['strIngredient' + i], meal['strMeasure' + i]]);\n        }\n        return results.filter(i => !!i[0]);\n    }\n\n    convertInstructionToArray(meal: MEALDB_Meal) {\n        return meal.strInstructions.split('\\n').filter(i => i.trim());\n    }\n\n    // async toSaved(meal: any) {\n    //     console.log(\"meal\", meal);\n    //     this.ulozenaJidlaPole = await this.localStorage.getData(\"ulozenaJidla\");\n    //     console.log(\"ulozenaJidla\", this.ulozenaJidlaPole)\n\n    //     if(this.ulozenaJidlaPole != null){\n    //         this.ulozenaJidlaPole.push(meal);\n    //         this.localStorage.setData(\"ulozenaJidla\", this.ulozenaJidlaPole);\n    //     }else{\n    //         this.ulozenaJidlaPole.push(meal);\n    //         this.localStorage.setData(\"ulozenaJidla\", this.ulozenaJidlaPole);\n    //     }\n        \n\n    //     // if (!this.ulozenaJidlaPole.includes(meal)) {\n    //     //   this.ulozenaJidlaPole.push(meal);\n    //     //   this.localStorage.setData(\"ulozenaJidla\", this.ulozenaJidlaPole);\n    //     // }\n    // }\n\n    async toSaved(meal: any) {\n        console.log(\"meal\", meal);\n        this.ulozenaJidlaPole = await this.localStorage.getData(\"ulozenaJidla\");\n        console.log(\"ulozenaJidla\", this.ulozenaJidlaPole)\n\n        if(this.ulozenaJidlaPole == null){\n            this.ulozenaJidlaPole = [];\n        }\n\n        if (!this.ulozenaJidlaPole.includes(meal)) {\n            this.ulozenaJidlaPole.push(meal);\n            this.localStorage.setData(\"ulozenaJidla\", this.ulozenaJidlaPole);\n          }\n        \n        \n    }\n    \n      \n    async toFavourite(meal : any){\n        console.log(\"mela\", meal);\n        this.oblibenaJidlaPole = await this.localStorage.getData(\"oblibenaJidla\");\n        console.log(\"oblineaJidla\", this.oblibenaJidlaPole);\n\n\n        if(this.oblibenaJidlaPole == null){\n            this.oblibenaJidlaPole = [];\n        }\n\n        if(!this.oblibenaJidlaPole.includes(meal)){\n            this.oblibenaJidlaPole.push(meal);\n            this.localStorage.setData(\"oblibenaJidla\", this.oblibenaJidlaPole);\n        }\n\n\n        \n\n        // if (!this.oblibenaJidlaPole.includes(meal)) {\n        //     console.log(this.oblibenaJidlaPole);\n        //     this.oblibenaJidlaPole.push(meal);\n        //     console.log(this.oblibenaJidlaPole);\n        //     this.localStorage.setData(\"oblibenaJidla\", this.oblibenaJidlaPole);\n        //     console.log(this.oblibenaJidlaPole);\n        // }\n    }\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","CommonModule","FormsModule","RouterModule","IonicModule","MealPage","routes","path","component","MealPageModule","imports","forChild","declarations","Component","ActivatedRoute","MealdbApiService","tap","DomSanitizer","StorageService","constructor","localStorage","activatedRoute","mealdb","sanitizer","id","snapshot","paramMap","get","meal$","getMealById","pipe","meal","console","log","ingredients","getIngredientsArray","instructions","convertInstructionToArray","ngOnInit","getYoutubeLink","strYoutube","split","bypassSecurityTrustResourceUrl","results","i","push","filter","strInstructions","trim","toSaved","ulozenaJidlaPole","getData","includes","setData","toFavourite","oblibenaJidlaPole","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}